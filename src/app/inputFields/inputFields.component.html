<div class="main-content lists-component">
  <vgr-page-header [title]="'Input'">
  </vgr-page-header>
  <vgr-expandable-container-list [allowMultipleExpandedChildren]="true">
    <div class="expandable-container-list__header">
      <h2>Dokumentation för input</h2>
    </div>
    <vgr-expandable-container [expanded]="true">
      <div class="expandable-container__header">
        <h4>Översikt</h4>
      </div>
      <div class="expandable-container__content">
        <div class="content-overview">
          <p>
            <code>
              &lt;vgr-input&gt; </code> är ett fält för inmatning utav värden i t.ex. ett formulär. Sen har den även följande
            funktioner implementerade:
            <br> - Validering på regex, antal tecken, numeriska värden m.m.
            <br> - Två olika fasta storlekar på fältet (liten och stor).
            <br> - Visar suffix.
          </p>
          <br>
          <vgr-input></vgr-input>
          <br>
          <p>Förändras med tema:
            <strong>nej</strong>
          </p>
        </div>
      </div>
    </vgr-expandable-container>
    <vgr-expandable-container [expanded]="false">
      <div class="expandable-container__header ">
        <h4>Exempel</h4>
      </div>
      <div class="expandable-container__content ">
        <p>Ändra storleken på inputfälten:</p>
        <vgr-radio-group [options]="[{id:'1', displayName:'Stor', selected:true},{id:'2', displayName:'Liten'}]" (selectedChanged)="toggleInputType($event)">
        </vgr-radio-group>
        <br>
        <div class="row-layout ">
          <div class="full ">
            <div class="row-layout">
              <div class="one-third">
                <h2>Fördefinierade typer</h2>
                <div>
                  Belopp 1 (type=amount)
                  <vgr-input [type]="'amount'" [value]="amount1" (valueChanged)="amount1 = $event" [small]="isSmall"></vgr-input>
                  <span>Belopp 1: </span>
                  <span>{{formatNumericValue(amount1)}}</span>
                </div>
                <div>
                  Belopp 2, obligatoriskt
                  <vgr-input [type]="'amount'" [value]="amount2" (valueChanged)="amount2 = $event" [required]="true" [small]="isSmall"></vgr-input>
                  <span>Belopp 2: </span>
                  <span>{{formatNumericValue(amount2)}}</span>
                </div>
                <div>
                  Procent
                  <vgr-input [type]="'percent'" [value]="percentValue" (valueChanged)="percentValue = $event" [small]="isSmall"></vgr-input>
                  <span>Procent: </span>
                  <span>{{formatNumericValue(percentValue)}}</span>
                </div>
                <div>
                  Km
                  <vgr-input [type]="'km'" [value]="kmValue" (valueChanged)="kmValue = $event" [small]="isSmall"></vgr-input>
                  <span>Km: </span>
                  <span>{{formatNumericValue(kmValue)}}</span>
                </div>
                <div>
                  Numeriskt värde utan enhet
                  <vgr-input [type]="'numeric'" [value]="numericValue" (valueChanged)="numericValue = $event" [small]="isSmall"></vgr-input>
                  <span>Värde: </span>
                  <span>{{formatNumericValue(numericValue)}}</span>
                </div>
              </div>
              <div class="one-third">
                <h2>Egen konfiguration</h2>
                <div>
                  Max-längd 5 tecken
                  <vgr-input [maxlength]=5 [small]="isSmall"></vgr-input>
                </div>
                <div>
                  Exakt 3 VERSALER (redan validerad)
                  <vgr-input [pattern]="'^[A-Z,Å,Ä,Ö]{3}$'" [invalidText]="'Ange exakt tre VERSALER'" [value]="'abc'" [maxlength]="3" [validateOnInit]="true"
                    [small]="isSmall"></vgr-input>
                </div>
                <div>
                  Mellan 2 och 6 tecken
                  <vgr-input [pattern]="'^.{2,6}$'" [maxlength]=6 [invalidText]="'Ange mellan 2-6 tecken'" [small]="isSmall"></vgr-input>
                </div>
                <div>
                  Heltal med enhet
                  <vgr-input [pattern]="'^[0-9]+$'" [type]="'numeric'" [suffix]="'st'" [invalidText]="'Ange ett giltigt heltal'" [alignRight]="true"
                    [value]="intValue" (valueChanged)="intValue = $event" [small]="isSmall"></vgr-input>
                  <span>Antal: </span>
                  <span>{{intValue + 0}}</span>
                </div>
                <div>
                  Långa felmeddelanden
                  <vgr-input [required]="true" [invalidText]="'Detta är ett längre meddelande som visas när något blir väldigt väldigt fel'"
                    [small]="isSmall"></vgr-input>
                </div>
                <div>
                  Låst fält
                  <vgr-input class="no-padding" [readonly]="true" [value]="'Visar värdet utan ram'" [small]="isSmall"></vgr-input>
                </div>
                <div>
                  Ingen validering
                  <vgr-input [small]="isSmall"></vgr-input>
                </div>
                <div>
                  Text i placeholder
                  <vgr-input [small]="isSmall" [placeholder]="'yyyymmdd-nnnn'"></vgr-input>

                </div>
              </div>
              <div class="one-third">
                <h2>Validering med service</h2>
                <div>
                  Ange en storstad i USA
                  <vgr-input [customValidator]="validateCityName.bind(this)" [value]="cityName" (valueChanged)="cityName = $event" [small]="isSmall"></vgr-input>
                  <span>Din stad: {{cityName}}</span>
                </div>
                <div>
                  E-postadress
                  <vgr-input [customValidator]="validateEmail.bind(this)" [small]="isSmall"></vgr-input>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </vgr-expandable-container>
    <vgr-expandable-container [expanded]="false ">
      <div class="expandable-container__header ">
        <h4>API</h4>
      </div>
      <div class="expandable-container__content ">
        <table class="property-table">
          <tr>
            <th>Property</th>
            <th>Beskrivning</th>
            <th>Exempel</th>
          </tr>
          <tr>
            <td>value: string</td>
            <td>Värde att binda till</td>
            <td>[value]="person.lastName"</td>
          </tr>
          <tr>
            <td>validateOnInit: boolean</td>
            <td>Om true, validera värdet vid laddning av sidan. Default = false.</td>
            <td>[validateOnInit]="true"</td>
          </tr>

          <tr>
            <td>title: string</td>
            <td>Tool-tip vid hover. Default = tomt.</td>
            <td>[title]="'Fyll i ditt namn här'"</td>
          </tr>
          <tr>
            <td>maxlength: string</td>
            <td>Max antal tecken. Begränsar antalet möjliga tecken att mata in. Default = obegränsat.</td>
            <td>[maxlength]="5"</td>
          </tr>
          <tr>
            <td>required: boolean</td>
            <td>Om true, är fältet obligatoriskt, annars skapas valideringsfel. Default = false</td>
            <td>[required]="true"</td>
          </tr>
          <tr>
            <td>pattern: string</td>
            <td>Regex att matcha innehållet mot vid validering. Default = tomt</td>
            <td>[pattern]="[a-z,A-Z]+'" (Minst en bokstav)</td>
          </tr>
          <tr>
            <td>invalidtext: string</td>
            <td>Text som visas vid valideringsfel för pattern eller om obligatoriskt fält ej fyllts i</td>
            <td>[invalidtext]="'Ange ett värde mellan 1-10'"</td>
          </tr>
          <tr>
            <td>suffix: string</td>
            <td>Text som visas till höger om fältet, som t.ex en enhet (km, m, kg, kr mm)</td>
            <td>[suffix]="'kg'"</td>
          </tr>
          <tr>
            <td>alignRight: boolean</td>
            <td>Om true, högerställ innehållet i fältet. Default är False.</td>
            <td>[alignRight]="true"</td>
          </tr>
          <tr>
            <td>type: string</td>
            <td>Fördefinierade typer av färdig validering samt suffix. Gltiga värden är amount, kg, percent, numeric. Sätter
              pattern, högerställer samt formatterar värdet. Inställningar möjliga att skriva över med enstaka properties
              ovan.
            </td>
            <td>[type]="'amount'"</td>
          </tr>
          <tr>
            <td>customValidator: function</td>
            <td>En egendefinierad funktion som returnerar validering baserat på innehållet. Anropas när fokus lämnar fältet.
              Funktionen tar in en sträng och returnerar ett IValidationResult med resultat samt meddelande. Se i exemplet
              "Validering med service" ovan. Notera anropet med [funktion].bind(this).
            </td>
            <td>[customValidator]="validateCityName.bind(this)"</td>
          </tr>
          <tr>
            <td>small: boolean</td>
            <td>Gör inputfälten till en mindre storlek.</td>
            <td>[small]="true"</td>
          </tr>
          <tr>
            <td>placeholder: string</td>
            <td>Sätter text i placeholder.</td>
            <td>[placeholder]="'yyyymmdd-nnnn'"</td>
          </tr>
          <tr>
            <td>
              validate() : IValidationResult
            </td>
            <td>Anropas utifrån för att validera komponenten. ValidationResult.isValid indikerar om innehåll är giltigt eller
              ej. ValidationResult.errorMessage ger eventuellt fel.
            </td>
            <td>const result = component.validate()</td>
          </tr>
          <tr>
            <td>valueChanged: EventEmitter&lt;string&gt;</td>
            <td>Event när värdet ändras. Triggas när fokus lämnar fältet. Värdet är parameter.</td>
            <td>(valueChanged)="person.lastName = $event"</td>
          </tr>
        </table>
      </div>
    </vgr-expandable-container>
    <vgr-expandable-container [expanded]="false">
      <div class="expandable-container__header ">
        <h4>Tillgänglighet</h4>
      </div>
      <div class="expandable-container__content ">
        <p>
          Stöds ej.
        </p>
      </div>
    </vgr-expandable-container>
  </vgr-expandable-container-list>
</div>
