<app-component-docs [componentName]="'Input'">


  <div class="docs__overview">
    <p>
      <code>
        &lt;vgr-input&gt; </code> är ett fält för inmatning utav värden i t.ex. ett formulär. Sen har den även följande funktioner
      implementerade:
      <br> - Validering på regex, antal tecken, numeriska värden m.m.
      <br> - Två olika fasta storlekar på fältet (liten och stor).
      <br> - Visar suffix.
    </p>
    <br>
    <vgr-input></vgr-input>
    <br>
    <p>Förändras med tema:
      <strong>nej</strong>
    </p>
  </div>

  <div class="docs__examples">
    <p>Ändra storleken på inputfälten:</p>
    <vgr-radio-group [options]="[{id:'1', displayName:'Stor', selected:true},{id:'2', displayName:'Liten'}]" (selectedChanged)="toggleInputType($event)">
    </vgr-radio-group>
    <form [formGroup]="form">

      <div class="row-layout">
        <div class="one-third">


          <h2>Fördefinierade typer</h2>
          <div>
            Belopp 1 (type=amount)
            <vgr-input formControlName="control1" [suffix]="'kr'" [alignRight]="true" [small]="isSmall"></vgr-input>
            <span>Belopp 1: </span>
            <span>{{formatNumericValue(form.controls.control1.value)}}</span>
          </div>
          <div>
            Belopp 2, obligatoriskt
            <vgr-input formControlName="control2" [suffix]="'kr'" [alignRight]="true" [small]="isSmall" [isInvalid]="form.get('control2').invalid"
              [errormessage]="'Fältet är obligatoriskt'"></vgr-input>
            <span>Belopp 2: </span>
            <span>{{formatNumericValue(form.controls.control2.value)}}</span>
          </div>
          <div>
            Procent
            <vgr-input formControlName="control3" [suffix]="'%'" [alignRight]="true" [small]="isSmall"></vgr-input>
            <span>Procent: </span>
            <span>{{formatNumericValue(form.controls.control3.value)}}</span>
          </div>
          <div>
            Km
            <vgr-input formControlName="control4" [suffix]="'km'" [alignRight]="true" [small]="isSmall"></vgr-input>
            <span>Km: </span>
            <span>{{formatNumericValue(form.controls.control4.value)}}</span>

          </div>
          <div>
            Numeriskt värde utan enhet
            <vgr-input formControlName="control5" [alignRight]="true" [small]="isSmall"></vgr-input>
            <span>Värde: </span>
            <span>{{formatNumericValue(form.controls.control5.value)}}</span>
          </div>
        </div>
        <div class="one-third">
          <h2>Egen konfiguration</h2>
          <div>
            Max-längd 5 tecken
            <vgr-input formControlName="control6" [maxlength]=5 [small]="isSmall"></vgr-input>
          </div>
          <div>
            Exakt 3 VERSALER
            <vgr-input formControlName="control7" [errormessage]="'Ange exakt tre VERSALER'" [maxlength]="3" [small]="isSmall" [isInvalid]="form.get('control7').invalid"></vgr-input>
          </div>
          <div>
            Mellan 2 och 6 tecken
            <vgr-input formControlName="control8" [maxlength]=6 [errormessage]="'Ange mellan 2-6 tecken'" [small]="isSmall" [isInvalid]="form.get('control8').invalid"></vgr-input>
          </div>
          <div>
            Heltal med enhet
            <vgr-input formControlName="control9" [alignRight]="true" [suffix]="'st'" [errormessage]="'Ange ett giltigt heltal'" [alignRight]="true"
              [small]="isSmall" [isInvalid]="form.get('control9').invalid"></vgr-input>
            <span>Antal: </span>
            <span>{{intValue + 0}}</span>
          </div>
          <div>
            Långa felmeddelanden
            <vgr-input formControlName="control10" [isInvalid]="form.get('control10').invalid" [errormessage]="'Detta är ett längre meddelande som visas när något blir väldigt väldigt fel'"
              [small]="isSmall"></vgr-input>
          </div>
          <div>
            Readonly fält
            <vgr-input formControlName="control11" [readonly]="true" [small]="isSmall"></vgr-input>
          </div>
          <div>
            Ingen validering
            <vgr-input formControlName="control12" [small]="isSmall"></vgr-input>
          </div>

        </div>
        <div class="one-third">
          <h2>Validering med service</h2>
          <div>
            Ange en storstad i USA
            <vgr-input formControlName="control13" [small]="isSmall" [isInvalid]="form.get('control13').invalid" [errormessage]="'Felaktig stad'"></vgr-input>
            <span>Din stad: {{form.controls.control13.value}}</span>
          </div>
          <div>
            E-postadress
            <vgr-input formControlName="control14" [small]="isSmall" [isInvalid]="form.get('control14').invalid" [errormessage]="'Felaktig e-post'"></vgr-input>
          </div>
        </div>
      </div>
    </form>
    <div class="row-layout">
      <div class="full">
        <h2>Notera</h2>
        <ul>
          <li>
            Validering sker alltid när man lämnar fältet (onblur)
          </li>
          <li>
            Om man anger pattern blir fältet automatiskt obligatoriskt.
          </li>
          <li>
            För numeriska fält (numeric, amount, km, percent) uppdateras värdet till NaN om fältet inte kan tolkas som ett giltigt värde
          </li>

          <li>
            Om pattern anger ett maximalt antal tecken, sätt även [maxlength] för att spärra fältet för längre inmatning
          </li>
        </ul>
      </div>
    </div>
    <div class="row-layout">
      <div class="full">
        <h2>Konfiguration</h2>
        <table class="property-table">
          <tr>
            <th>Property</th>
            <th>Beskrivning</th>
            <th>Exempel</th>
          </tr>
          <tr>
            <td>[value]</td>
            <td>Värde att binda till</td>
            <td>[value]="person.lastName"</td>
          </tr>
          <tr>
            <td>[validateOnInit]</td>
            <td>Om true, validera värdet vid laddning av sidan. Default = false.</td>
            <td>[validateOnInit]="true"</td>
          </tr>
          <tr>
            <td>(valueChanged)</td>
            <td>Event när värdet ändras. Triggas när fokus lämnar fältet. Värdet är parameter.</td>
            <td>(valueChanged)="person.lastName = $event"</td>
          </tr>
          <tr>
            <td>[title]</td>
            <td>Tool-tip vid hover. Default = tomt.</td>
            <td>[title]="'Fyll i ditt namn här'"</td>
          </tr>
          <tr>
            <td>[maxlength]</td>
            <td>Max antal tecken. Begränsar antalet möjliga tecken att mata in. Default = obegränsat.</td>
            <td>[maxlength]="5"</td>
          </tr>
          <tr>
            <td>[required]</td>
            <td>Om true, är fältet obligatoriskt, annars skapas valideringsfel. Default = false</td>
            <td>[required]="true"</td>
          </tr>
          <tr>
            <td>[pattern]</td>
            <td>Regex att matcha innehållet mot vid validering. Default = tomt</td>
            <td>[pattern]="[a-z,A-Z]+'" (Minst en bokstav)</td>
          </tr>
          <tr>
            <td>[invalidtext]</td>
            <td>Text som visas vid valideringsfel för pattern eller om obligatoriskt fält ej fyllts i</td>
            <td>[invalidtext]="'Ange ett värde mellan 1-10'"</td>
          </tr>
          <tr>
            <td>[suffix]</td>
            <td>Text som visas till höger om fältet, som t.ex en enhet (km, m, kg, kr mm)</td>
            <td>[suffix]="'kg'"</td>
          </tr>
          <tr>
            <td>[alignRight]</td>
            <td>Om true, högerställ innehållet i fältet. Default är False.</td>
            <td>[alignRight]="true"</td>
          </tr>
          <tr>
            <td>[type]</td>
            <td>Fördefinierade typer av färdig validering samt suffix. Gltiga värden är amount, kg, percent, numeric. Sätter
              pattern, högerställer samt formatterar värdet. Inställningar möjliga att skriva över med enstaka properties
              ovan.
            </td>
            <td>[type]="'amount'"</td>
          </tr>
          <tr>
            <td>[customValidator]</td>
            <td>En egendefinierad funktion som returnerar validering baserat på innehållet. Anropas när fokus lämnar fältet.
              Funktionen tar in en sträng och returnerar ett IValidationResult med resultat samt meddelande. Se "Validering
              med service" ovan. Notera anropet med [funktion].bind(this).
            </td>
            <td>[customValidator]="validateCityName.bind(this)"</td>
          </tr>
        </table>
      </div>
    </div>

  </div>

  <div class="docs__api">
    <table class="property-table">
      <tr>
        <th>Property</th>
        <th>Beskrivning</th>
        <th>Exempel</th>
      </tr>
      <tr>
        <td>value: string</td>
        <td>Värde att binda till</td>
        <td>[value]="person.lastName"</td>
      </tr>
      <tr>
        <td>validateOnInit: boolean</td>
        <td>Om true, validera värdet vid laddning av sidan. Default = false.</td>
        <td>[validateOnInit]="true"</td>
      </tr>

      <tr>
        <td>title: string</td>
        <td>Tool-tip vid hover. Default = tomt.</td>
        <td>[title]="'Fyll i ditt namn här'"</td>
      </tr>
      <tr>
        <td>maxlength: string</td>
        <td>Max antal tecken. Begränsar antalet möjliga tecken att mata in. Default = obegränsat.</td>
        <td>[maxlength]="5"</td>
      </tr>
      <tr>
        <td>required: boolean</td>
        <td>Om true, är fältet obligatoriskt, annars skapas valideringsfel. Default = false</td>
        <td>[required]="true"</td>
      </tr>
      <tr>
        <td>pattern: string</td>
        <td>Regex att matcha innehållet mot vid validering. Default = tomt</td>
        <td>[pattern]="[a-z,A-Z]+'" (Minst en bokstav)</td>
      </tr>
      <tr>
        <td>invalidtext: string</td>
        <td>Text som visas vid valideringsfel för pattern eller om obligatoriskt fält ej fyllts i</td>
        <td>[invalidtext]="'Ange ett värde mellan 1-10'"</td>
      </tr>
      <tr>
        <td>suffix: string</td>
        <td>Text som visas till höger om fältet, som t.ex en enhet (km, m, kg, kr mm)</td>
        <td>[suffix]="'kg'"</td>
      </tr>
      <tr>
        <td>alignRight: boolean</td>
        <td>Om true, högerställ innehållet i fältet. Default är False.</td>
        <td>[alignRight]="true"</td>
      </tr>
      <tr>
        <td>type: string</td>
        <td>Fördefinierade typer av färdig validering samt suffix. Gltiga värden är amount, kg, percent, numeric. Sätter pattern,
          högerställer samt formatterar värdet. Inställningar möjliga att skriva över med enstaka properties ovan.
        </td>
        <td>[type]="'amount'"</td>
      </tr>
      <tr>
        <td>customValidator: function</td>
        <td>En egendefinierad funktion som returnerar validering baserat på innehållet. Anropas när fokus lämnar fältet. Funktionen
          tar in en sträng och returnerar ett IValidationResult med resultat samt meddelande. Se i exemplet "Validering med
          service" ovan. Notera anropet med [funktion].bind(this).
        </td>
        <td>[customValidator]="validateCityName.bind(this)"</td>
      </tr>
      <tr>
        <td>small: boolean</td>
        <td>Gör inputfälten till en mindre storlek.</td>
        <td>[small]="true"</td>
      </tr>
      <tr>
        <td>placeholder: string</td>
        <td>Sätter text i placeholder.</td>
        <td>[placeholder]="'yyyymmdd-nnnn'"</td>
      </tr>
      <tr>
        <td>
          validate() : IValidationResult
        </td>
        <td>Anropas utifrån för att validera komponenten. ValidationResult.isValid indikerar om innehåll är giltigt eller ej.
          ValidationResult.errorMessage ger eventuellt fel.
        </td>
        <td>const result = component.validate()</td>
      </tr>
      <tr>
        <td>valueChanged: EventEmitter&lt;string&gt;</td>
        <td>Event när värdet ändras. Triggas när fokus lämnar fältet. Värdet är parameter.</td>
        <td>(valueChanged)="person.lastName = $event"</td>
      </tr>
    </table>
  </div>


  <div class="docs__wcag">
    <p>
      Stöds ej.
    </p>
  </div>

</app-component-docs>
