<app-component-docs [componentName]="'Search results'">
  <div class="docs__overview">
    <p>
      <code>&lt;vgr-search-result&gt;</code> är en sökresultat-lista som går att koppla till en input-komponent. För att den skall
      placera sig rätt behöver man wrappa båda komponenterna i en div med klassen
      <code>search-result-wrapper</code>.
      <br> Man kan skicka med en egen beskrivande text till sökresulatet och det finns också möjlighet att ha en kursiverad andra
      rad i sökresultatet.
      <br>
      <br>Klicka i input-fältet för att visa ett exempel på sökresultatlistan.
    </p>


    <div class="search-result-wrapper">
      <vgr-input (click)="openDropdown()"> </vgr-input>
      <p>Event emittat vid klick: {{output | json}}</p>
      <vgr-search-result [items]="items" [(visible)]="dropdownVisible" (itemClick)="closeDropdown($event)"></vgr-search-result>
    </div>
    <br>
    <br>

    <p> Förändras med tema:
      <strong>nej</strong>
    </p>
  </div>
  <div class="docs__examples">

    <div>
      <p>
        <strong>1.</strong> Exempel på sökning med en filtertextbox och en beskrivning tillagd för sökresultatet samt minskat antal
        maxItems. Sökningen startar efter 3 tecken, testa med att skriva 'min'</p>
      <div class="search-result-wrapper">
        <vgr-filter-textbox (keyup)="filterSearch($event)" [value]="filterBoxValue_e1"></vgr-filter-textbox>
        <vgr-search-result [items]="filteredItems" [(visible)]="dropdownVisible_e1" maxItems="15" [description]="searchDescription_e1"
          (itemClick)="setResult($event)"></vgr-search-result>
      </div>
      <br>
      <br>
      <h3>HTML</h3>
      <section [innerHTML]="htmlExample1" highlight-js-content=".highlight"></section>
    </div>
    <div>
      <br>
      <br>
      <p>
        <strong>2.</strong> Exempel på sökning med en vgr-input. Sökningen startar då man trycker på knappen sök.</p>
      <div class="search-result-wrapper">
        <vgr-input [(ngModel)]="filterBoxValue_e2" style="display: inline-flex;"></vgr-input>
        <vgr-button (click)="filterSearch_e2($event)">Sök</vgr-button>
        <vgr-search-result [items]="filteredItems_e2" [(visible)]="dropdownVisible_e2" maxItems="15" noResultsText="Inga resultat hittades."
          (itemClick)="setResult_e2($event)"></vgr-search-result>
      </div>
      <br>
      <br>
      <h3>HTML</h3>
      <section [innerHTML]="htmlExample2" highlight-js-content=".highlight"></section>

    </div>

  </div>
  <div class="docs__api">
    <table class="property-table">
      <tr>
        <th>Namn</th>
        <th>Beskrivning</th>
        <th>Exempel</th>
      </tr>
      <tr>
        <td>
          description : string
        </td>
        <td>
          En text som visas ovanför sökträffarna.
        </td>
        <td>[description]="55 träffar i "VGR" KIV."</td>
      </tr>
      <tr>
        <td>
          noResultsText : string
        </td>
        <td>en text som visas om inga sökträffar hittas.</td>
        <td>[noResultsText]="Inga sökträffar hittades."</td>
      </tr>
      <tr>
        <td>
          items : array
        </td>
        <td>Listan på sökträffar i rätt format. Formatet definieras i form av ett
          <code>SearchResultItem</code>.
          <code>Displayname</code> kan innehålla flera rader, där används
          <code>secondRowItalic</code>
          används för att definiera om man vill att den skall vara kursiv eller inte.
          <code>secondRowItalic</code> kan uteslutas om den inte behövs
        </td>
        <td>[items]="[{{'{'}}displayName: ["Min mottagning", "Stor vårdcentral"], value: " Min mottagning", secondRowItalic:
          true{{'}'}}, ...]"</td>
      </tr>
      <tr>
        <td>
          maxItems : number
        </td>
        <td>Antalet sökträffar som maximalt skall visas i listan. 25st är default.</td>
        <td>[maxItems]="25"</td>
      </tr>
      <tr>
        <td>
          visible : boolean
        </td>
        <td>Styr hurvida sökresultatet visas eller ej.</td>
        <td>[visible]="isListVisible"</td>
      </tr>
      <tr>
        <td>
          itemClick : event
        </td>
        <td>Event som triggas när man klickar på en listitem, skickar med datan för det listitemet.</td>
        <td>(itemClick)="doSomething($event)"</td>
      </tr>
    </table>
  </div>
  <div class="docs__wcag">
    Man kan navigera i sökresultaten med hjälp av piltangenterna.
    <br>Space och Enter väljer aktuell resultatrad och stänger resulatet.
    <br>Tab stänger resultatet som att välja något.
  </div>
</app-component-docs>
